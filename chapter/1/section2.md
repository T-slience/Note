# 1.重定向命令
- 1.介绍
    - 重定向又称输出重定向,把在终端执行命令的结果保存到目标文件中]
- 2.使用
     

命令 | 说明
---|---
> | 如果文件存在会覆盖原有文件内容，相当于文件操作中的‘w’模式
>> | 如果文件存在会追加写入文件末尾，相当于文件操作中的‘a’ 模式


# 2.查看文件内容命令
- ### 1.查看文件内容命令的使用
    - cat 命令结合重定向可以在查看多个文件的同时对其进行合并
    - gedit 文件编辑指令,可以查看和编辑文件(必须具有相应权限)

命令 | 说明
---|---
cat | 查看小型文件(在一屏以内)
more | 分屏查看大型文件

- more 分屏显示操作
    - space 显示下一屏(页)信息
    - enter 显示下一行
    - b     显示上一页
    - f     显示下一页
    - q     退出帮助,回到终端

- ### 2.管道(|)的使用   
    - 管道(|):
        - 一个命令的输出可以通过管道作为另一个命令的输入,可以理解为一个容器,存放终端显示的内容
        - 一般结合more使用,分屏查看内容,不过此时不能向上翻页(b失效)

# 3.链接命令
- 1.介绍
- 用来创建链接文件,分为
    -   硬链接
    -   软链接


命令 | 说明
---|---
ln -s | 创建软链接
ln | 创建硬链接

- 2.软链接
    - 作用: 方便文件的快速访问
        - 例如: 给一个复杂路径下的文件创建一个软链接,以后就可以通过软链接完成快速访问.
        - 类似于Windows中的快捷方式
    - 实质是让软链接指向源文件,在对相应数据进行引用
    - 注意:
        - 如果软链接和源文件不在同一目录,则源文件必须使用绝对路径,不然软链接失效
        - 源文件删除时,软链接失效
        - 可以给目录创建软链接
- 3.硬链接
    - 作用:不占用空间的数据备份,防止误删
    - 类似于之前学习的引用计数
        - 即a = 1, b = 1,此时a ,b 均指向保存"1"的空间,但是只占有一份空间,且删除a,b任意一个时,"1"仍存在.只有当引用计数为0时,才会真正删除
        - 对ab任意一个做更改(非重新赋值)时,另外一个都会更改
    - 不同于拷贝,拷贝是额外占用了一份磁盘空间,并且源文件修改不会导致拷贝文件数据改变
    - 实质是让硬链接直接指向数据
    - 注意:
        - 创建硬链接使用绝对路径和相对路径都可以
        - 删除源文件,硬链接还可以访问到数据
        - 创建硬链接,硬链接数+1,删除-1
        - 创建软链接,硬连接数不变
        - 不能给目录创建硬链接
    
# 4.文本搜索命令
- 1.grep的使用
    - 格式:
        - grep 选项 搜索内容  搜索范围(文件) 
- 2.grep可用选项
    - -i    忽略大小写
    - -n    显示匹配行数
    - -v    显示不包含匹配文本的其他所有行

- 3.grep 结合正则表达式
    - "^搜索内容"   以指定字符串开头
    - "搜索内容$"   以指定字符串结尾
    - "搜索.内容"   匹配一个非换行符的字符

- 4.Extra
    - 可以搭配管道使用 如: ls / | grep "lib" 
    - 在grep命令中,可以省略引号
        - 如 ls / | grep lib 
    
# 5.查找文件命令
- ### 1.find命令及选项
    - 格式
        - find 指定查找目录 -name "文件名" 

命令 | 说明
---|---
find | 在指定目录下查找文件(包括目录)

选项 | 说明
---|---
-name | 根据文件名(包括目录名)字查找


- ### 2.find 结合通配符使用
    - 通配符
        - 是一种特殊语句,主要有"*"和"?",用来模糊搜索文件
        - "*"   代表0个或者多个任意字符
        - "?"   代表任意一个字符
    - 通配符不仅能结合find ,还可以结合其他命令,如mv, cp, rm等
        - 但是只有find使用通配符需要加上引号


# 6.压缩和解压缩命令
- ### 1.压缩格式介绍
    - 目的:节省磁盘空间
    
    - Linux默认支持的压缩格式
        - .gz
        - .bz2
        - .zip
    - 说明
        - .gz和.bz2压缩包需要使用tar命令来压缩和解压缩
        - .zip的压缩包需要使用zip命令来压缩
        - 用 unzip 来解压缩 
- ### 2.tar 命令选项
    - 一般使用 tar -z/j cvf 压缩
    - 一般使用 tar -z/j xvf 解压缩

命令| 说明
---|---
 tar|压缩和解压缩命令   
 
 选项 | 说明
---|---
-c | 创建打包文件               
-v | 显示打包或者解包的详细信息
-f | 指定文件名称,必须放到所有选项的后面
-z | 压缩或解压缩(.gz)
-j | 压缩或解压缩(.bz2)
-x | 解包
-C | 解压缩到指定目录


- ### 3.zip和unzip命令
     

命令| 说明
---|---
 zip|压缩成.zip格式文件   
unzip | 解压缩.zip格式文件
- unzip 可接选项
    - -d  解压缩到指定目录 

- ### 4.小结
    - 格式:
        - 命令 选项 压缩文件名 被压缩文件 指定目录 
    - .gz和.bz2的压缩文件使用tar命令来完成压缩和解压缩
    - .zip的压缩文件使用zip和unzip命令来完成压缩和解压缩
    - 压缩文件尽量使用.gz格式，因为占用空间较少
    - 使用zip命令压缩的文件占用空间比较多, 当时比较通用，操作更加简单。
    - zip 压缩时,后缀可以不输入,会自动生成



# 7.文件权限命令
- ### 1.chmod 命令介绍
    - 修改文件权限的方式
        - 字母法
        - 数字法

命令| 说明
---|---
chmod|修改文件权限 


- ### 2.chmod 字母法
    - 格式:
        -  chmod 不同角色设置的权限 文件
 
角色| 说明
---|---
u|user ,表示该文件的所有者(创建者)
g|group,表示用户组
o|other,表示其他用户
a|all,表示所有用户
 
 操作符| 说明
---|---
+|增加权限
-|撤销权限
=|设置权限

 权限| 说明
---|---
r|可读
w|可写
x|可执行
-|无任何权限

- ### 3.chmod 数字法
    - "ugo" 代表三个不同用户的权限 ,用数字表示
    - 可以是0~7的数字,为权限值的和
    - 格式:
        -   chmod 不同角色的权限值 文件名

权限| 说明
---|---
r|可读,权限值4
w|可写,权限值2
x|可执行,权限值1
-|无任何权限,权限值0

- ### 4.执行
    - 1.可以用绝对路径或相对路径输入文件,后面再输入执行方式路径
    - 2.可以用绝对路径或相对路径输入文件,来执行文件
    -  当文件没有执行权限时,会提示权限不够
    -  当文件有执行权限时,需要有相应的执行方式
    -  需要在文件的第一行输入
        - "#!/执行方式的路径"
        - 例如执行py文件需要使用到python解释器,那么可以通过which 命令找到python解释器的路径,输入到文件的第一行,这样就可以以此方式执行文件
        

# 8.获取管理员权限的相关命令
- 1.sudo命令的使用
    - 如果只是某次操作需要使用管理员权限建议使用 sudo , 也就是说临时使用管理器权限。
    - 如果大量操作都需要使用管理员权限 sudo –s, 但是操作需谨慎。
    - 当输入过一次密码后,接下来三分钟内使用管理员权限不需要再次输入 
    - 获得管理员权限后,会进入root用户,且原来的$会变成# 

命令| 说明
---|---
sudo -s|切换到root用户，获取管理员权限
sudo|某个命令的执行需要获取管理员权限可以在执行命令前面加上sudo 

- 2.whoami
    - 查看当前用户
- 3.exit
    - 退出当前用户
- 4.who
    - 查看所有的登录用户
- 5.passwd
    - 修改用户密码,不指定用户默认修改当前登录用户密码 
- 6.which
    - 查看命令位置
- 7.关机和重启
    - shutdown -h now
        - 立即关机
        - now 可以改为数字,意为延时相应分钟关机
    - reboot
        - 重启 

# 9.用户相关操作

    
命令| 说明| EX
---|---|---
useradd | 创建(添加)用户| -m  自动创建同名用户主目录
userdel | 删除用户|-r 同时删除用户主目录
usermod | 修改用户信息|-G 设置一个附加组
passwd | 设置密码| 新增密码或修改密码
--- |--- | 以上命令必须使用sudo 管理员权限
su (-) | 切换用户| - 可有可无,显示会有一定区别
id | 查看用户id|None



- 创建用户时,同时会创建同名用户组
- 删除用户时,同时也会删除同名用户组
- 查看用户是否创建成功，可以查看/etc/passwd这个文件
- 查看用户组是否创建成功，可以查看/etc/group这个文件
- 新建用户需要用到sudo命令时, 需要先用usermod添加sudo组
- 文件信息说明:
    - passwd文件中的每项信息说明,以root:x:0:0:root:/root:/bin/bash为例:

        - 第一个：用户名
        - 第二个：密码占位符
        - 第三个：uid, 用户id
        - 第四个：gid, 用户所在组id
        - 第五个：用户描述, 可选，
        - 第六个：用户的主目录所在位置
        - 第七个：用户所用 shell 的类型，一般由bash或者sh，默认不设置是sh类型
    - group文件中的每项信息说明, 以laowang:x:1001:为例:

        - 第一个：用户组名
        - 第二个：用户组密码占位符，一般Linux系统的用户组都没有密码的
        - 第三个：组id 
    - id 信息说明
        - 第一个: uid 表示用户id
        - 第二个: gid 表示用户组id
        - 第三个: 组 表示用户所在的用户组

# 10.远程登录
- 1.安装:
    - 假如Ubuntu作为服务端,需要安装ssh服务端软件. 执行命令: sudo apt-get install openssh-server
        - 客户端为 openssh-client 
    - 客户端电脑如果是 macOS 系统则不需要安装 ssh 客户端软件，默认已经安装过了，直接可以使用 ssh 命令
    - 客户端电脑如果是Windows系统则需要安装OpenSSH for Windows这个软件
    - win10 自带 ssh 客户端,但是没有服务端
- 2.格式:
    - ssh 用户名@ip地址 
    - 登录后退出:
        - ctrl+d
        - exit


# 11.远程拷贝
- 1.安装:
    - 同ssh
    
- 2.格式:
    - scp (-r) 本地文件名  用户名@IP地址:路径
- 3.注意: 
    - -r是拷贝文件夹时的选项,且只能放在前面
    - 文件必须存在于终端所在位置,或者用绝对路径或相对路径锁定
    - 拷贝后的位置必须是绝对路径 且存在

- 4.FileZilla 
    -  FileZilla 是一个免费开源的FTP软件, 使用可视化方式进行上传和下载文件。以后可以通过 FileZilla 来完成远程拷贝操作。
    -  选择SFTP
    -  登录类型选择询问密码(选其他也会自动改成此选择)
    - 大批量拷贝选用FileZilla,少量可以用scp

