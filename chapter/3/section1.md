# 1.ip地址
- 1.概念
    - 标识某设备在网络中的一个地址
- 2.表现形式
    - 分为IPv4 和 IPv6
    - IPv4 是目前使用的ip地址
        - 由 点分十进制组成 
    - IPv6 是未来使用的ip地址
        - 由冒号分十六进制组成

- 3.作用
    -  标识网络中唯一的一台设备的
    -  也就是说通过IP地址能够找到网络中某台设备,进行数据通信

- 4.查看iP地址
    -  Linux 和 mac OS 使用 ifconfig 
    -  Windows 使用 ipconfig
    -  域名是IP地址的别名,通过域名能解析出一个对应的ip地址(www.baidu.com就是一个域名)
    -  127.0.0.1表示本机地址,域名为localhost

- 5.检查网络是否正常
    - ping www.baidu.com (外网网站)
        - 检查是否能能够公网 
    - ping 当前局域网Ip地址  
        - 检查是否在同一个局域网内
    - ping 127.0.0.1
        - 检查本地网卡是否正常

# 2.端口和端口号
- 1.什么是端口
    - 给运行的应用程序提供传输数据的通道
- 2.什么是端口号
    - 用来区分和管理不同端口的，通过端口号能找到唯一个的一个端口
    - 端口号其实就是一个数字,类似于生活中的门牌号
    - 端口号一共有 65536 个
   

- 3.数据通信的流程
    - 通过ip地址找到对应的设备,在通过端口号找到对应的端口
    - 然后通过端口 把数据传输给应用程序

- 4.端口号的分类
    - 知名端口号
        -  是指众所周知的端口号，范围从0到1023
        -  这些端口号一般固定分配给一些服务，比如21端口分配给FTP(文件传输协议)服务，25端口分配给SMTP（简单邮件传输协议）服务，80端口分配给HTTP服务
    - 动态端口号
        -  一般程序员开发应用程序使用端口号称为动态端口号, 范围是从1024到65535
        -  如果程序员开发的程序没有设置端口号，操作系统会在动态端口号这个范围内随机生成一个给开发的应用程序使用
        -  当运行一个程序默认会有一个端口号，当这个程序退出时，所占用的这个端口号就会被释放(不使用端口复用会延时1~2分钟释放)

# 3.TCP
- 1.概念
    -  CP 的英文全拼(Transmission Control Protocol)简称传输控制协议，它是一种面向连接的、可靠的、基于字节流的传输层通信协议。
    - 通信步骤
        - 创建连接
        - 传输数据
        - 关闭连接
- 2.特点
    - 面向连接
        - 通信双方必须先建立好连接才能进行数据的传输，数据传输完成后，双方必须断开此连接，以释放系统资源
    - 可靠传输
        - TCP采用发送应答机制
        - 超时重传
            - 在短时间内,如果对方未接收信息会重新发送
        - 错误校验
            - 在数据传输时,如果出现了后发送的先传输完成 会自动调整为发送时的顺序
        - 流量控制
            - 控制网卡缓冲区的接收上限,避免过量接收导致卡死(UDP不控制流量,所以在接收大量数据时,可能导致计算机卡死)
        - 阻塞管理
            - 没有收到反馈会一直等待,收到后会解阻塞让程序向下执行 
        - 基于字节流
            - 传输信息使用二进制传输,而不能使用字符串
    
- # 4.socket
- 1.概念
    -  socket (简称 套接字) 是进程之间通信一个工具，
    -  只要跟网络相关的应用程序或者软件都是用到了socket
- 2.socket 的发送和接收 
    - 程序通过socket 的 send 和recv 来进行收发数据
    - send 原理
        - 发送数据必须通过网卡发送,程序无法直接通过网卡发送数据,它需要调用操作系统接口
        - 即 应用程序把发送的数据先写入到 发送缓冲区(内存中的一片空间)
        - 再由操作系统控制网卡把发送缓冲区的数据发送给服务端网卡
    - recv 原理
        -  接收数据也必须通过网卡接收,需要调用操作系统接口
        -  即 由操作系统通过网卡接收数据,把接收的数据写入到接收缓冲区
        -  应用程序再从接收缓存区获取客户端发送的数据
![](/assets/tcp网络应用程序的开发流程.png)

- 3.发送和接收的流程
    - 以客户端为例 
    - send
        - 客户端数据-->socket-->客户端发送缓冲区-->客户端网卡-->服务端网卡-->服务端接收缓冲区-->socket-->接收到客户端数据
    - recv
        - 服务端数据-->socket-->服务端发送缓冲区-->服务端网卡-->客户端网卡-->客户端接收缓冲区-->socket-->接收到服务端数据 
    
- # 5.TCP网络应用开发流程
- 1.介绍
    - TCP网络应用开发分为:
        - TCP客户端程序开发
        - TCP服务端程序开发
    - 客户端程序是指运行在用户设备上的程序(主动发起建立连接请求)
    - 服务端是指运行在服务器设备上的程序,专门为客户端提供数据服务(等待接受连接请求)
- 2.TCP客户端开发流程
    - 创建客户端套接字对象
    - 和服务端套接字建立连接
    - 发送数据
    - 接收数据
    - 关闭客户端套接字

- 3.TCP服务端开发流程
    - 创建服务端套接字对象
    - 端口复用(根据需求)
    - 绑定端口号
    - 设置监听
    - 等待接受客户端的连接请求
    - 发送数据
    - 接收数据
    - 关闭客户端套接字


- # 6.TCP客户端开发
```
import socket

if __name__ == '__main__':
    # 1.创建tcp客户端套接字
    # 1.1. AF_INET：表示ipv4
    # 1.2. SOCK_STREAM: tcp传输协议
    tcp_client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    # 2.和服务端应用程序建立连接
    tcp_client_socket.connect(("192.168.131.62", 8080))
    # 代码执行到此，说明连接建立成功
    # 3.1准备发送的数据,并进行转码
    send_data = "你好服务端，我是客户端小黑!".encode("gbk")
    # 3.2 发送数据
    tcp_client_socket.send(send_data)
    # 4.1接收数据, 这次接收的数据最大字节数是1024
    recv_data = tcp_client_socket.recv(1024)
    # 返回的直接是服务端程序发送的二进制数据
    print(recv_data)
    # 4.2对数据进行解码
    recv_content = recv_data.decode("gbk")
    print("接收服务端的数据为:", recv_content)
    # 5.关闭套接字
    tcp_client_socket.close()
```
- 导入socket模块
    - import socket
- 创建客户端socket对象
    - socket.socket(AddressFamily,Type)
    - AddressFamily 表示IP地址类型,
        - 分为IPv4 AF_INET  和 IPv6  AF_INET6
    - Type 表示传输协议类型
        - SOCK_STREAM TCP传输协议
        - SOCK_DGRAM  UDP传输协议
- 方法说明
    - connect((host,port)) 表示和服务端套接字简历连接
        - host 是服务器ip地址,port 是应用程序的端口号 
